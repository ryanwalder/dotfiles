#!/usr/bin/env bash

hostname=$(hostname -s)

is_connected() {
    if xrandr | grep "$1" | grep -q " connected"; then
        return 0
    else
        return 1
    fi
}

if [[ "${hostname}" == "ryanlaptop" ]]; then
    laptop="eDP-1"
    dell_left="DP-1-1"
    dell_right="DP-1-3"

    # Default args
    xrandr_args="--output ${laptop} --auto"

    # If externals plugged in
    if is_connected ${dell_left} && is_connected ${dell_right}; then
        xrandr --output ${laptop} --auto \
               --output ${dell_left} --auto --right-of ${laptop} --primary \
               --output ${dell_right} --auto --right-of ${dell_left}
    fi
fi


if [[ "${hostname}" == "tfu" ]]; then
    dell_right="DP-1-1"
    dell_left="DP-1-2"
    predator="DP-2-2"
    laptop="eDP-1"

    # Default args
    xrandr_args="--output ${laptop} --auto"

    # If externals plugged in
    if is_connected ${predator} && is_connected ${dell_left} && is_connected ${dell_right}; then
        xrandr --output ${laptop} --off \
               --output ${dell_right} --auto \
               --output ${predator} --auto --left-of ${dell_right} --primary \
               --output ${dell_left} --auto --left-of ${predator} --rotate left
    fi
fi
